module.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t){e.exports=require("vscode")},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),r=n(3);o(n(3)),o(n(5)),t.getExtension=function(){let e;const t=i.extensions.getExtension(r.extensionId);if(!t)throw new Error("Extension was not found.");return t&&(e=t),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0);class i{static initialize(){this._outputChannel||(this._outputChannel=o.window.createOutputChannel("Cloak"))}static getChannel(){return this.initialize(),this._outputChannel}static info(e,t=!1,n=""){n&&this._outputChannel.appendLine(n);const o=function(e,t){const n=t?"  ":"";let o="";if("object"==typeof e)return Array.isArray(e)?o=`${n}${JSON.stringify(e,null,2)}`:Object.entries(e).map(e=>{o+=`${n}${e[0]} = ${e[1]}\n`}),o;return o=`${n}${e}`,o}(e,t);this._outputChannel.appendLine(o)}}t.Logger=i,i.initialize()},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{a(o.next(e))}catch(e){r(e)}}function u(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.extensionShortName="cloak",t.extensionId="johnpapa.vscode-cloak",t.timeout=(e=200)=>o(void 0,void 0,void 0,(function*(){return new Promise(t=>setTimeout(t,e))})),t.isObjectEmpty=e=>"object"==typeof e&&0===Object.keys(e).length},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),{commands:i}=o,r=n(2),s=n(1),u=n(6),a=n(10);t.activate=function(e){r.Logger.info("Cloak is initialized."),i.registerCommand(s.Commands.hideSecrets,u.hideSecretsHandler),i.registerCommand(s.Commands.showSecrets,u.showSecretsHandler),i.registerCommand(s.Commands.toggleSecrets,u.toggleSecretsHandler),i.registerCommand(s.Commands.restoreDefaultScopes,u.restoreDefaultScopesHandler),a.updateStatusBar()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.hideSecrets="cloak.hideSecrets",e.showSecrets="cloak.showSecrets",e.toggleSecrets="cloak.toggleSecrets",e.restoreDefaultScopes="cloak.restoreDefaultScopes"}(t.Commands||(t.Commands={})),function(e){e.HideComments="hideComments",e.EnvironmentKeys="environmentKeys",e.EnvironmentComments="environmentComments"}(t.Settings||(t.Settings={})),function(e){e.cloakSection="cloak",e.editorTokenColorCustomizationSection="editor.tokenColorCustomizations"}(t.Sections||(t.Sections={})),function(e){e.envKeys="envKeys",e.envComments="envComments"}(t.TextMateRulesNames||(t.TextMateRulesNames={})),function(e){e.envKeys="string.quoted.single.ini,constant.numeric.ini,string.quoted.double.ini",e.envComments="comment.line.number-sign.ini"}(t.TextMateScopeDefaults||(t.TextMateScopeDefaults={}))},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{a(o.next(e))}catch(e){r(e)}}function u(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(7),r=n(1);function s(){return o(this,void 0,void 0,(function*(){const e=i.getEnvironmentKeys(),t=i.getEnvironmentComments(),n=i.getTextMateRules(),o=i.getHideComments(),s=n.filter(e=>![r.TextMateRulesNames.envKeys,r.TextMateRulesNames.envComments].includes(e.name));s.push({name:r.TextMateRulesNames.envKeys,scope:e,settings:{foreground:"#19354900"}}),o&&s.push({name:r.TextMateRulesNames.envComments,scope:t,settings:{foreground:"#19354900"}});const u={textMateRules:[...n,...s]};yield i.updateEditorTokenColorCustomization(u)}))}function u(){return o(this,void 0,void 0,(function*(){const e=i.getTextMateRules();let t=[];Array.isArray(e)&&(t=e.filter(e=>![r.TextMateRulesNames.envKeys,r.TextMateRulesNames.envComments].includes(e.name)));const n={textMateRules:t};yield i.updateEditorTokenColorCustomization(n)}))}t.restoreDefaultScopesHandler=function(){return o(this,void 0,void 0,(function*(){yield i.updateEnvironmentKeys(r.TextMateScopeDefaults.envKeys),yield i.updateEnvironmentComments(r.TextMateScopeDefaults.envComments)}))},t.toggleSecretsHandler=function(){return o(this,void 0,void 0,(function*(){!function(){let e=!1;const t=i.getColorCustomizationConfig().get("textMateRules");Array.isArray(t)&&(e=!!t.find(e=>e.name.includes(r.TextMateRulesNames.envKeys)));return e}()?yield s():yield u()}))},t.hideSecretsHandler=s,t.showSecretsHandler=u},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(8)),o(n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),i=n(1),{workspace:r}=o;function s(){return r.getConfiguration(i.Sections.editorTokenColorCustomizationSection)}function u(e,t){return r.getConfiguration(i.Sections.cloakSection).get(e,t)}t.getColorCustomizationConfig=s,t.getTextMateRules=function(){return s().get("textMateRules")||[]},t.getEnvironmentKeys=function(){return u(i.Settings.EnvironmentKeys,"")},t.getEnvironmentComments=function(){return u(i.Settings.EnvironmentComments,"")},t.getHideComments=function(){return u(i.Settings.HideComments,!1)},t.readConfiguration=u},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{a(o.next(e))}catch(e){r(e)}}function u(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),r=n(0),s=n(1),u=n(2);function a(e,t){return o(this,void 0,void 0,(function*(){const n=i.workspace.getConfiguration(),o=`${s.extensionShortName}.${e}`;return u.Logger.info(s.extensionShortName+": Updating the settings with the following changes:"),t&&Array.isArray(t)&&t.length>0?u.Logger.info(t,!0,`${s.extensionShortName}:  ${o}`):u.Logger.info(`${s.extensionShortName}: ${o} = ${t}`,!0),yield n.update(o,t,r.ConfigurationTarget.Global)}))}t.updateGlobalConfiguration=a,t.updateEditorTokenColorCustomization=function(e){return o(this,void 0,void 0,(function*(){return u.Logger.info(s.extensionShortName+": Updating the settings with the following editor token color customizations"),u.Logger.info(e,!0),yield i.workspace.getConfiguration().update(s.Sections.editorTokenColorCustomizationSection,e,r.ConfigurationTarget.Global)}))},t.updateEnvironmentKeys=function(e){return o(this,void 0,void 0,(function*(){return yield a(s.Settings.EnvironmentKeys,e)}))},t.updateEnvironmentComments=function(e){return o(this,void 0,void 0,(function*(){return yield a(s.Settings.EnvironmentComments,e)}))},t.updateHideComments=function(e){return o(this,void 0,void 0,(function*(){return yield a(s.Settings.HideComments,e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),i=n(1),r=o.window.createStatusBarItem(o.StatusBarAlignment.Left);function s(){const e=r;e.text="$(eye) Cloak",e.command=i.Commands.toggleSecrets,e.tooltip="Cloak the secrets",e.show()}t.getStatusBarItem=()=>(s(),r),t.updateStatusBar=s}]);
//# sourceMappingURL=extension.js.map